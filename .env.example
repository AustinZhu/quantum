# Shared
ENVIRONMENT=development
LOG_LEVEL=INFO
CONSUL_HTTP_ADDR=http://consul:8500
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=root
MINIO_ENDPOINT=http://minio:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# Postgres / Timescale
POSTGRES_HOST=timescaledb
POSTGRES_PORT=5432
POSTGRES_USER=quantum
POSTGRES_PASSWORD=quantum
POSTGRES_DB=quantum
DATABASE_URL=postgres://quantum:quantum@timescaledb:5432/quantum?sslmode=disable

# Schemas
ALG_DB_SCHEMA=algorand
DATAFEED_DB_SCHEMA=datafeed
DOORDASH_DB_SCHEMA=doordash

# Redis
REDIS_URL=redis://redis:6379/0
PGADMIN_DEFAULT_EMAIL=admin@quantum.dev
PGADMIN_DEFAULT_PASSWORD=admin
PGADMIN_OIDC_DISCOVERY_URL=http://casdoor.quantum.orb.local/.well-known/openid-configuration
PGADMIN_OIDC_CLIENT_ID=
PGADMIN_OIDC_CLIENT_SECRET=
PGADMIN_OIDC_DISPLAY_NAME=Casdoor
PGADMIN_OIDC_SCOPE=openid profile email
PGADMIN_OIDC_USERNAME_CLAIM=email

# Redpanda
REDPANDA_BROKERS=redpanda:9092
REDPANDA_CONNECT_URL=http://redpanda-connect:4195

# Feast
FEAST_UI_URL=http://feast:6566

# Airflow
AIRFLOW_USERNAME=airflow
AIRFLOW_PASSWORD=airflow
AIRFLOW_API_BASE_URL=http://airflow:8080/api/v1
AIRFLOW_DB_HOST=timescaledb
AIRFLOW_DB_PORT=5432
AIRFLOW_DB_NAME=airflow
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow
AIRFLOW_DB_SSLMODE=disable
AIRFLOW_OIDC_CLIENT_ID=
AIRFLOW_OIDC_CLIENT_SECRET=
AIRFLOW_OIDC_DISCOVERY_URL=http://casdoor.quantum.orb.local/.well-known/openid-configuration
AIRFLOW_OIDC_AUTHORIZE_URL=http://casdoor.quantum.orb.local/login/oauth/authorize
AIRFLOW_OIDC_TOKEN_URL=http://casdoor.quantum.orb.local/api/login/oauth/access_token
AIRFLOW_OIDC_API_BASE_URL=http://casdoor.quantum.orb.local/
AIRFLOW_OIDC_USERINFO_ENDPOINT=api/userinfo
AIRFLOW_OIDC_SCOPE=openid profile email
AIRFLOW_OIDC_DEFAULT_ROLE=Admin
AIRFLOW_OIDC_ENABLE_PROXY_FIX=true

# Grafana
GRAFANA_ROOT_URL=http://grafana.quantum.orb.local
GRAFANA_OIDC_PROVIDER_DISPLAY_NAME=Casdoor
GRAFANA_OIDC_CLIENT_ID=
GRAFANA_OIDC_CLIENT_SECRET=
GRAFANA_OIDC_SCOPE=openid profile email
GRAFANA_OIDC_AUTHORIZE_URL=http://casdoor.quantum.orb.local/login/oauth/authorize
GRAFANA_OIDC_TOKEN_URL=http://casdoor.quantum.orb.local/api/login/oauth/access_token
GRAFANA_OIDC_USERINFO_URL=http://casdoor.quantum.orb.local/api/userinfo
GRAFANA_OIDC_LOGIN_ATTRIBUTE_PATH=preferred_username||email||sub
GRAFANA_OIDC_NAME_ATTRIBUTE_PATH=displayName||name||email
GRAFANA_OIDC_EMAIL_ATTRIBUTE_PATH=email
GRAFANA_OIDC_ROLE_ATTRIBUTE_PATH=contains(groups[*],'admin@example.com')&&'Admin'||'Viewer'

# MLflow
MLFLOW_UI_URL=http://mlflow:5000
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_OIDC_DISCOVERY_URL=http://casdoor.quantum.orb.local/.well-known/openid-configuration
MLFLOW_OIDC_SECRET_KEY=quantum-mlflow-oidc-dev-secret
MLFLOW_OIDC_CLIENT_ID=
MLFLOW_OIDC_CLIENT_SECRET=
MLFLOW_OIDC_SCOPE=openid profile email
MLFLOW_OIDC_PROVIDER_DISPLAY_NAME=Login with Casdoor
MLFLOW_OIDC_GROUPS_ATTRIBUTE=groups
MLFLOW_OIDC_GROUP_DETECTION_PLUGIN=
MLFLOW_OIDC_GROUP_NAME=
MLFLOW_OIDC_ADMIN_GROUP_NAME=
MLFLOW_OIDC_AUTOMATIC_LOGIN_REDIRECT=true

# Temporal
TEMPORAL_ADDRESS=temporal:7233
TEMPORAL_NAMESPACE=default

# Casdoor / Casbin RBAC
CASDOOR_HTTP_PORT=8000
CASDOOR_RUN_MODE=dev
CASDOOR_DB_HOST=timescaledb
CASDOOR_DB_PORT=5432
CASDOOR_DB_NAME=casdoor
CASDOOR_ORIGIN=http://casdoor.quantum.orb.local
CASDOOR_ORIGIN_FRONTEND=http://casdoor.quantum.orb.local
CASDOOR_RADIUS_SECRET=secret
CASDOOR_ENDPOINT=http://casdoor:8000
CASDOOR_PUBLIC_ENDPOINT=http://casdoor.quantum.orb.local
CASDOOR_CLIENT_ID=
CASDOOR_CLIENT_SECRET=
CASDOOR_CERTIFICATE=

# Algorand
ALG_SERVER_HOST=0.0.0.0
ALG_SERVER_PORT=8080
ALG_API_KEY=terminal-dev-key
ALG_TEMPORAL_TARGET=temporal:7233
ALG_TEMPORAL_NAMESPACE=default
ALG_BACKTEST_TASK_QUEUE=algorand-backtest
ALG_ML_TASK_QUEUE=algorand-ml
ALG_ALERT_TASK_QUEUE=algorand-alerts
ALG_ANALYTICS_TASK_QUEUE=algorand-analytics
ALG_DATA_LAKE_ROOT=/app/data/lake
ALG_DUCKDB_PATH=/app/data/duckdb/quant.db
ALG_DUCKDB_UI_HOST=0.0.0.0
ALG_DUCKDB_UI_PORT=4213
ALG_ARTIFACT_ROOT=/app/data/artifacts
ALG_DB_URL=postgres://quantum:quantum@timescaledb:5432/quantum
ALG_DB_SCHEMA=algorand
ALG_DB_GENERATE_SCHEMAS=false
ALG_ALLOW_IN_MEMORY_FALLBACK=false
ALG_REDIS_URL=redis://redis:6379/0
ALG_REDPANDA_BROKERS=redpanda:9092
ALG_REDPANDA_TOPIC_PREFIX=algorand
ALG_MLFLOW_TRACKING_URI=http://mlflow:5000
ALG_MLFLOW_EXPERIMENT=algorand-default
ALG_FEAST_REPO_PATH=/app/feast
ALG_FEAST_FEATURE_SERVER_URL=http://feast:6566
ALG_AIRFLOW_API_BASE_URL=http://airflow:8080/api/v1
ALG_AIRFLOW_USERNAME=airflow
ALG_AIRFLOW_PASSWORD=airflow
ALG_OTEL_ENDPOINT=http://alloy:4318
ALG_OPENAPI_SPEC_PATH=/app/openapi/quantum.openapi.json
ALG_CONFIG_FROM_CONSUL=true
ALG_CONSUL_HTTP_ADDR=http://consul:8500
ALG_CONSUL_KV_PATH=quantum/algorand/config
ALG_SECRETS_FROM_VAULT=true
ALG_VAULT_ADDR=http://vault:8200
ALG_VAULT_TOKEN=root
ALG_VAULT_KV_MOUNT=secret
ALG_VAULT_SECRET_PATH=quantum/algorand
ALG_VAULT_API_KEY_FIELD=api_key

# Datafeed
DATAFEED_HTTP_ADDR=:8081
DATAFEED_DATABASE_URL=postgres://quantum:quantum@timescaledb:5432/quantum?sslmode=disable
DATAFEED_DB_SCHEMA=datafeed
DATAFEED_MIGRATIONS_PATH=/app/migrations
DATAFEED_REDIS_URL=redis://redis:6379/0
DATAFEED_REDPANDA_BROKERS=redpanda:9092
DATAFEED_REDPANDA_TICKS_TOPIC=datafeed.ticks
DATAFEED_TEMPORAL_ADDRESS=temporal:7233
DATAFEED_TEMPORAL_NAMESPACE=default
DATAFEED_TASK_QUEUE=datafeed-ingest
DATAFEED_OTEL_ENDPOINT=http://alloy:4318
DATAFEED_API_KEY=terminal-dev-key
DATAFEED_OPENAPI_SPEC_PATH=/app/openapi/quantum.openapi.json
DATAFEED_CONFIG_FROM_CONSUL=true
DATAFEED_CONSUL_HTTP_ADDR=http://consul:8500
DATAFEED_CONSUL_KV_PATH=quantum/datafeed/config
DATAFEED_SECRETS_FROM_VAULT=true
DATAFEED_VAULT_ADDR=http://vault:8200
DATAFEED_VAULT_TOKEN=root
DATAFEED_VAULT_KV_MOUNT=secret
DATAFEED_VAULT_SECRET_PATH=quantum/datafeed
DATAFEED_VAULT_API_KEY_FIELD=api_key

# Doordash
DOORDASH_HTTP_PORT=8082
DOORDASH_DB_URL=jdbc:postgresql://timescaledb:5432/quantum
DOORDASH_DB_USER=quantum
DOORDASH_DB_PASSWORD=quantum
DOORDASH_DB_SCHEMA=doordash
DOORDASH_REDIS_URL=redis://redis:6379/0
DOORDASH_REDPANDA_BROKERS=redpanda:9092
DOORDASH_REDPANDA_ORDER_TOPIC=doordash.orders
DOORDASH_REDPANDA_RISK_TOPIC=doordash.risk
DOORDASH_TEMPORAL_ADDRESS=temporal:7233
DOORDASH_TEMPORAL_NAMESPACE=default
DOORDASH_TASK_QUEUE=doordash-orders
DOORDASH_OTEL_ENDPOINT=http://alloy:4318
DOORDASH_API_KEY=terminal-dev-key
DOORDASH_OPENAPI_SPEC_PATH=/app/openapi/quantum.openapi.json
DOORDASH_CONFIG_FROM_CONSUL=true
DOORDASH_CONSUL_HTTP_ADDR=http://consul:8500
DOORDASH_CONSUL_KV_PATH=quantum/doordash/config
DOORDASH_SECRETS_FROM_VAULT=true
DOORDASH_VAULT_ADDR=http://vault:8200
DOORDASH_VAULT_TOKEN=root
DOORDASH_VAULT_KV_MOUNT=secret
DOORDASH_VAULT_SECRET_PATH=quantum/doordash
DOORDASH_VAULT_API_KEY_FIELD=api_key

# Terminal
APP_URL=http://localhost:3000
NEXT_PUBLIC_API_BASE=/api
CASDOOR_ORG_NAME=built-in
CASDOOR_APP_NAME=app-built-in
BFF_ALGORAND_URL=http://algorand-api:8080
BFF_DATAFEED_URL=http://datafeed-api:8081
BFF_DOORDASH_URL=http://doordash-api:8082
BFF_SYSTEM_URL=http://algorand-api:8080
BFF_UPSTREAM_TIMEOUT_MS=10000
BFF_SERVICE_KEY=terminal-dev-key
BFF_ALGORAND_API_KEY=terminal-dev-key
BFF_DATAFEED_API_KEY=terminal-dev-key
BFF_DOORDASH_API_KEY=terminal-dev-key
BFF_SYSTEM_API_KEY=terminal-dev-key
